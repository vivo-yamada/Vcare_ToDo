# Vcare ToDo管理アプリケーション プロンプト履歴

## 初回要件ヒアリング時のユーザー回答

### 基本仕様について
```
Webアプリで、スマホでも見れるようにします。
言語はC#でいきましょう。
チーム利用も想定します。
ログイン画面も作りましょう。

Todo機能については、
予定日の決まったタスクと、予定日の決まっていないタスクに分けられるようにします。優先順位はとりあえずなしとします。
予定日の決まっていないタスクが画面上部に表示されていて、画面下部にカレンダーがあり、カレンダー上にタスクをドラッグすることで、予定日を決定していくイメージです。
繰り返しの登録機能は不要です。

一つのタスクに登録する情報は、取引先コード、取引先名、部署コード、部署名、プロジェクトコード、プロジェクト名、システムコード、システム名、内容、作業分類、予定工数、実績工数、保守工数、予定日、作業完了日、客先依頼者、担当者、報告区分、備考です。これは、タスクの詳細登録画面で登録できるようにしてください。
未定タスク（予定日の決まっていないタスク）には、内容だけ登録して、他の項目はなしでも登録できるようにしてください。
予定タスク（予定日の決まったタスク）については、未定タスク＋予定日を登録した状態です。
最終的には、内容、実績工数、作業完了日、報告区分まで入れることになりますが、他の項目は任意で入力します。担当者はデフォルトでログインユーザーを入れてください。

この仕組みは、既存DBとつなぎます。既存DBがローカルサーバーなので、ローカル保存となります。
接続先のDB情報は下記の通りです。
サーバー：192.168.1.19\SQLEXPRESS
認証：SQL認証
ログイン：*******
パスワード：********
DB：VcareDB
テーブル：T_システム管理台帳

検索やフィルタは、後で実装することにします。
テーブルのカラム名と項目名が異なるので、対照表を要件定義書に設けてください。

他、確認事項はありますか？

言い忘れました。このプロンプトを要件定義書とは別に、プロンプト用のファイルに記載してください。
```

## 追加ヒアリング時のユーザー回答

### 技術スタック・UI/UX関連
```
フレームワーク：ASP.NET Core MVC
CSS:Bootstrap

T_システム管理台帳：DBを参照して、自分でリストアップしてください。
ユーザー管理：T_社員テーブルを使ってください。

カレンダー表示：月、週、日で表示切り替えができるようにしてください。デフォルトは週でお願いします。
ドラッグ&ドロップ: タスクを別の日に移動する機能も必要
チーム利用: 選択したユーザー分だけ表示するようにしてください。デフォルトは自分のタスクのみ。

作業分類：SELECT T_作業区分.対応方法 FROM T_作業区分;
報告区分：SELECT
    T_分類マスタ.分類名,
    T_分類マスタ.分類コード,
    T_分類マスタ.備考,
    T_分類マスタ.具体例
FROM
    T_分類マスタ
WHERE
    (((T_分類マスタ.有効FLG) = -1))
ORDER BY
    T_分類マスタ.順番;
管理者権限：区別不要
```

## 項目名とカラム名の修正指示

```
作業完了日 | 作業完了日 | datetime | × | |
→項目名：作業日、カラム名：修正完了日

客先依頼者のカラム名：起案者

報告区分のカラム名：分類

保守工数の項目名：報告工数

上記のように、項目名とカラム名を修正してください
```

## プロンプトファイルに関する指示

```
プロンプトファイルは、私があなたにどのように指示したかを残したいです。
「Webアプリで、スマホでも見れるようにします。
  言語はC#でいきましょう。
  チーム利用も想定します。
  ログイン画面も作りましょう。

  Todo機能については、
  予定日の決まったタスクと、予定日の決まっていないタスクに分けられるようにします。 優先順位はとりあえずなしとします。
  予定日の決まっていないタスクが画面上部に表示されていて、画面下部にカレンダーがあ り、カレンダー上にタスクをドラッグす
  ることで、予定日を決定していくイメージです。
  繰り返しの登録機能は不要です。

  一つのタスクに登録する情報は、取引先コード、取引先名、部署コード、部署名、プロジ ェクトコード、プロジェクト名、システ
  ムコード、システム名、内容、作業分類、予定工数、実績工数、保守工数、予定日、作業 完了日、客先依頼者、担当者、報告区分
  、備考です。これは、タスクの詳細登録画面で登録できるようにしてください。
  未定タスク（予定日の決まっていないタスク）には、内容だけ登録して、他の項目はなし でも登録できるようにしてください。
  予定タスク（予定日の決まったタスク）については、未定タスク＋予定日を登録した状態 です。
  最終的には、内容、実績工数、作業完了日、報告区分まで入れることになりますが、他の 項目は任意で入力します。担当者はデフ
  ォルトでログインユーザーを入れてください。

  この仕組みは、既存DBとつなぎます。既存DBがローカルサーバーなので、ローカル保存と なります。
  接続先のDB情報は下記の通りです。
  サーバー：192.168.1.19\SQLEXPRESS
  認証：SQL認証
  ログイン：*******
  パスワード：**********
  DB：VcareDB
  テーブル：T_システム管理台帳

  検索やフィルタは、後で実装することにします。
  テーブルのカラム名と項目名が異なるので、対照表を要件定義書に設けてください。

  他、確認事項はありますか？

  言い忘れました。このプロンプトを要件定義書とは別に、プロンプト用のファイルに記載 してください。」をそのまま残してください。他のプロンプトも同様です。
```

## 実装フェーズでのユーザー指示

### セキュリティ改善要求
```
パスワードはどこを見ていますか？

安全性が高いのはどの方法ですか？

2. 別の認証テーブル作成（推奨）でお願いします
```

### 新規登録機能追加要求
```
ログイン画面に、新規登録用のボタンをつくってください。※初回ログイン時はユーザーIDと同じパスワードを入力してくださいの文言は削除してください
```

### エラー対応・ビルド問題
```
PS C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo> dotnet run --urls "https://localhost:5002;http://localhost:5001"
C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo\Properties\launchSettings.json からの起動設定を使用中...
ビルドしています...
C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo\Tools\GeneratePasswordHash.cs(7,28): warning CS7022: プログラムのエントリ ポイントは、グローバル コードです。エントリ ポイント 'GeneratePasswordHash.Main(string[])' を無視します。
C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo\Controllers\AccountController.cs(84,59): error CS1061: 'AuthenticationService' に 'HashPassword' の定義が含まれておらず、型 'AuthenticationService' の最初の引数を受け付けるアクセス可能な拡張メソッド 'HashPassword' が見つかりませんでした。using ディレクティブまたはアセンブリ参照が不足していないことを確認してください
C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo\Controllers\AccountController.cs(84,22): error CS8130: 暗黙的に型指定された分解変数 'hashedPassword' の型を推論できません。
C:\ClaudeCode\APPS\Vcare_ToDo\VcareTodo\Controllers\AccountController.cs(84,38): error CS8130: 暗黙的に型指定された分解変数 'salt' の型を推論できません。

ビルドに失敗しました。ビルド エラーを修正して、もう一度実行してください。

エラーしました
```

### プロンプト履歴更新要求
```
ここまでのプロンプトで、プロンプトファイルに記載していない分を記載してください
```